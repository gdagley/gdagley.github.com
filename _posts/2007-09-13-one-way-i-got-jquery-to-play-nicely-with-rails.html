--- 
layout: post
title: One Way I Got JQuery To Play Nicely With Rails
published: true
meta: {}

tags: 
- AJAX
- JQuery
- JavaScript
- Rails
type: post
status: publish
---
<div class="shadow left"><img src='http://www.mckinneystation.com/wp-content/uploads/2007/09/bridge.jpg' alt='Bridge' /><br/><span class="credit">photo by <a href="http://www.flickr.com/photos/dave_mcmt/">dave_mcmt</a><br/>
</span></div>

I love JQuery!  I did a <a href="http://www.mckinneystation.com/2007/08/31/lightning-talks-at-dallasrb/">short 10-15 minute presentation at the last Dallas.rb</a> to let others in on the joys of using JQuery.

But one thing that doesn't work right when using JQuery with Rails applications is the JQuery AJAX features and Rails respond_to.  It turns out the Rails it looking for a specific request header, but JQuery sends something different one.  

<p  class="clearfix">It is easily solved with this at the top of your application.js file:</p>

<pre>
<code>
$.ajaxSetup({
  beforeSend: function(xhr) {xhr.setRequestHeader("Accept", "text/javascript");}
});
</code>
</pre>
